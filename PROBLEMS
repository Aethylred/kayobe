ansible PTY allocation request failed
=====================================

In /var/log/secure: Unable to open pty: No such file or directory
none            /dev/pts        devpts        gid=5,mode=620    0 0

Seems to be when using docker cp.

Kolla patches
=============

See bootstrap_kolla.sh.

Ironic inspector
================

Failed to start due to iptables error.
See https://bugs.launchpad.net/kolla/+bug/1624457.

Bare metal provisioning
=======================

- Neutron external network needs configuring and an IP.
    - install bridge-utils
    - create br-eth0 with ip, eth0 without IP
    - create veth pair, set up
    - plug one end into br-eth0
    - set neutron_external_interface=patch-br-ex in globals.yml

- Provisioning network different from API network.
  Likely we can use the same network for this in future.
    - added to /etc/kolla/ironic-conductor/ironic.conf:
      [DEFAULT]
      api_url=http://<provision_ip>:6385
      [pxe]
      tftp_server=<provision_ip>

    - add to /etc/kolla/haproxy/haproxy.cfg:
      listen ironic_pxe_api
      bind 10.122.100.252:6385
      server stg-alaska 10.121.100.252:6385 check inter 2000 rise 2 fall 5

- iscsi_tcp modprobe required

- ironic.conf: [agent]deploy_logs_local_path=/var/log/kolla/ironic/deploy

Bifrost
=======

- Set log_dir=/var/log/kolla/ironic in ironic.conf
- Create kolla_logs/ironic, chown ironic:ironic
- os_ironic module will not access root_device property.
